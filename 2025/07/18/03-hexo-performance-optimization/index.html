<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Hexo性能优化实战：从构建到部署的完整性能提升方案 | Moonshot Blog</title>
<meta name="author" content="Muscle">
<meta name="description" content="一个关于技术和生活的博客">
<meta name="keywords" content="technology, blog, programming">

<meta name="description" content="Hexo性能优化实战：从构建到部署的完整性能提升方案前言在构建技术博客时，性能优化往往被忽视，但它直接影响用户体验和搜索引擎排名。本文将深入探讨Hexo博客的全链路性能优化，从本地构建到线上部署，提供一套完整的性能提升方案。 性能分析基础1. 性能指标定义 首次内容绘制(FCP): 用户看到第一个内容的时间 最大内容绘制(LCP): 最大内容元素渲染完成时间 首次输入延迟(FID): 用户首次交互">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo性能优化实战：从构建到部署的完整性能提升方案">
<meta property="og:url" content="https://zhangmengweimuscle.github.io/2025/07/18/03-hexo-performance-optimization/">
<meta property="og:site_name" content="Moonshot Blog">
<meta property="og:description" content="Hexo性能优化实战：从构建到部署的完整性能提升方案前言在构建技术博客时，性能优化往往被忽视，但它直接影响用户体验和搜索引擎排名。本文将深入探讨Hexo博客的全链路性能优化，从本地构建到线上部署，提供一套完整的性能提升方案。 性能分析基础1. 性能指标定义 首次内容绘制(FCP): 用户看到第一个内容的时间 最大内容绘制(LCP): 最大内容元素渲染完成时间 首次输入延迟(FID): 用户首次交互">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-07-18T14:10:00.000Z">
<meta property="article:modified_time" content="2025-07-18T14:58:27.196Z">
<meta property="article:author" content="Muscle">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="性能优化">
<meta property="article:tag" content="前端优化">
<meta property="article:tag" content="构建优化">
<meta property="article:tag" content="部署优化">
<meta name="twitter:card" content="summary">

<link rel="icon" href="/favicon.ico">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic|Source+Code+Pro:400,700">

<script src="/js/url-search.js"></script>



<meta name="generator" content="Hexo 7.3.0"></head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner">
    <div class="banner-particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>
    <div class="banner-pattern"></div>
    <div class="banner-signature"></div>
  </div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Moonshot Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技术分享与思考</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          
            <a id="nav-github-link" class="nav-icon" target="_blank" rel="noopener" href="https://github.com/zhangmengweimuscle/" title="GitHub">
              <i class="fab fa-github"></i>
            </a>
          
        
          
            <a id="nav-twitter-link" class="nav-icon" target="_blank" rel="noopener" href="https://x.com/zhangmuscle/" title="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
          
        
          
            <a id="nav-email-link" class="nav-icon" href="mailto:zhangmengweimusclea@email.com" title="Email">
              <i class="fas fa-envelope"></i>
            </a>
          
        
        <a id="nav-search-btn" class="nav-icon" title="搜索">
          <i class="fas fa-search"></i>
        </a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
          <input type="search" name="q" class="search-form-input" placeholder="搜索...">
          <button type="submit" class="search-form-submit">&#xF002;</button>
          <input type="hidden" name="sitesearch" value="https://zhangmengweimuscle.github.io">
        </form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
          <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Hexo性能优化实战：从构建到部署的完整性能提升方案</h1>
    
    <div class="post-meta">
      <span class="post-time">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar"></i>
        </span>
        <span class="post-meta-item-text">发表于</span>
        <time itemprop="dateCreated" datetime="2025-07-18T14:10:00.000Z" content="2025-07-18T14:10:00.000Z">
          2025-07-18
        </time>
      </span>
      
      
        <span class="post-time">
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="far fa-calendar-check"></i>
          </span>
          <span class="post-meta-item-text">编辑于</span>
          <time itemprop="dateModified" datetime="2025-07-18T14:58:27.196Z" content="2025-07-18T14:58:27.196Z">
            2025-07-18
          </time>
        </span>
      
      
      
        <span class="post-category">
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="far fa-folder"></i>
          </span>
          <span class="post-meta-item-text">分类于</span>
          
            <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
              <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                <span itemprop="name">技术</span>
              </a>
            </span>
            
          
        </span>
      
      
      
        <span class="post-tags">
          <span class="post-meta-divider">|</span>
          <span class="post-meta-item-icon">
            <i class="fas fa-tags"></i>
          </span>
          <span class="post-meta-item-text">Tags</span>
          
            <a href="/tags/hexo/" rel="index">
              <span class="post-meta-item-text">hexo</span>
            </a>
            , 
          
            <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="index">
              <span class="post-meta-item-text">性能优化</span>
            </a>
            , 
          
            <a href="/tags/%E5%89%8D%E7%AB%AF%E4%BC%98%E5%8C%96/" rel="index">
              <span class="post-meta-item-text">前端优化</span>
            </a>
            , 
          
            <a href="/tags/%E6%9E%84%E5%BB%BA%E4%BC%98%E5%8C%96/" rel="index">
              <span class="post-meta-item-text">构建优化</span>
            </a>
            , 
          
            <a href="/tags/%E9%83%A8%E7%BD%B2%E4%BC%98%E5%8C%96/" rel="index">
              <span class="post-meta-item-text">部署优化</span>
            </a>
            
          
        </span>
      
    </div>
  </header>
  
  <div class="post-body" itemprop="articleBody">
    <h1 id="Hexo性能优化实战：从构建到部署的完整性能提升方案"><a href="#Hexo性能优化实战：从构建到部署的完整性能提升方案" class="headerlink" title="Hexo性能优化实战：从构建到部署的完整性能提升方案"></a>Hexo性能优化实战：从构建到部署的完整性能提升方案</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在构建技术博客时，性能优化往往被忽视，但它直接影响用户体验和搜索引擎排名。本文将深入探讨Hexo博客的全链路性能优化，从本地构建到线上部署，提供一套完整的性能提升方案。</p>
<h2 id="性能分析基础"><a href="#性能分析基础" class="headerlink" title="性能分析基础"></a>性能分析基础</h2><h3 id="1-性能指标定义"><a href="#1-性能指标定义" class="headerlink" title="1. 性能指标定义"></a>1. 性能指标定义</h3><ul>
<li><strong>首次内容绘制(FCP)</strong>: 用户看到第一个内容的时间</li>
<li><strong>最大内容绘制(LCP)</strong>: 最大内容元素渲染完成时间</li>
<li><strong>首次输入延迟(FID)</strong>: 用户首次交互到浏览器响应的时间</li>
<li><strong>累积布局偏移(CLS)</strong>: 页面布局稳定性指标</li>
</ul>
<h3 id="2-性能测试工具"><a href="#2-性能测试工具" class="headerlink" title="2. 性能测试工具"></a>2. 性能测试工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装Lighthouse</span></span><br><span class="line">npm install -g lighthouse</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行性能测试</span></span><br><span class="line">lighthouse http://localhost:4000 --output=json --output-path=./report.json</span><br></pre></td></tr></table></figure>

<h2 id="构建阶段优化"><a href="#构建阶段优化" class="headerlink" title="构建阶段优化"></a>构建阶段优化</h2><h3 id="1-Hexo配置优化"><a href="#1-Hexo配置优化" class="headerlink" title="1. Hexo配置优化"></a>1. Hexo配置优化</h3><p>编辑<code>_config.yml</code>：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建优化</span></span><br><span class="line"><span class="attr">minify:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">css:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">js:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">image:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 缓存配置</span></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">memory</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">30000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 并发配置</span></span><br><span class="line"><span class="attr">concurrency:</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="2-插件优化配置"><a href="#2-插件优化配置" class="headerlink" title="2. 插件优化配置"></a>2. 插件优化配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图片压缩</span></span><br><span class="line"><span class="attr">imagemin:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">options:</span></span><br><span class="line">    <span class="attr">jpeg:</span></span><br><span class="line">      <span class="attr">quality:</span> <span class="number">85</span></span><br><span class="line">    <span class="attr">png:</span></span><br><span class="line">      <span class="attr">optimizationLevel:</span> <span class="number">7</span></span><br><span class="line">    <span class="attr">webp:</span></span><br><span class="line">      <span class="attr">quality:</span> <span class="number">85</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HTML压缩</span></span><br><span class="line"><span class="attr">html_minifier:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">options:</span></span><br><span class="line">    <span class="attr">removeComments:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">removeRedundantAttributes:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">removeScriptTypeAttributes:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">removeStyleLinkTypeAttributes:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">minifyCSS:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">minifyJS:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="资源优化策略"><a href="#资源优化策略" class="headerlink" title="资源优化策略"></a>资源优化策略</h2><h3 id="1-图片优化"><a href="#1-图片优化" class="headerlink" title="1. 图片优化"></a>1. 图片优化</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用WebP格式</span></span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">&#x27;imagemin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminWebp = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">imagemin</span>([<span class="string">&#x27;source/images/*.&#123;jpg,png&#125;&#x27;</span>], &#123;</span><br><span class="line">  <span class="attr">destination</span>: <span class="string">&#x27;public/images&#x27;</span>,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">imageminWebp</span>(&#123;<span class="attr">quality</span>: <span class="number">85</span>&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-CSS优化"><a href="#2-CSS优化" class="headerlink" title="2. CSS优化"></a>2. CSS优化</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 关键CSS内联 */</span></span><br><span class="line"><span class="selector-class">.critical-css</span> &#123;</span><br><span class="line">  <span class="comment">/* 首屏关键样式 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 非关键CSS异步加载 */</span></span><br><span class="line">&lt;link rel=&quot;preload&quot; href=&quot;/css/non-critical<span class="selector-class">.css</span>&quot; as=&quot;style&quot; onload=&quot;this<span class="selector-class">.onload</span>=null;this<span class="selector-class">.rel</span>=&#x27;stylesheet&#x27;&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-JavaScript优化"><a href="#3-JavaScript优化" class="headerlink" title="3. JavaScript优化"></a>3. JavaScript优化</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码分割</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">loadComments</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;./comments.js&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">loadAnalytics</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;./analytics.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 条件加载</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comments&#x27;</span>)) &#123;</span><br><span class="line">  <span class="title function_">loadComments</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CDN和缓存策略"><a href="#CDN和缓存策略" class="headerlink" title="CDN和缓存策略"></a>CDN和缓存策略</h2><h3 id="1-CDN配置"><a href="#1-CDN配置" class="headerlink" title="1. CDN配置"></a>1. CDN配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">cdn:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">https://cdn.jsdelivr.net/npm</span></span><br><span class="line">  <span class="attr">fallback:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">files:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">css/style.css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">js/main.js</span></span><br></pre></td></tr></table></figure>

<h3 id="2-缓存控制"><a href="#2-缓存控制" class="headerlink" title="2. 缓存控制"></a>2. 缓存控制</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Nginx配置</span></span><br><span class="line"><span class="section">location</span> <span class="regexp">~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$</span> &#123;</span><br><span class="line">  <span class="attribute">expires</span> <span class="number">1y</span>;</span><br><span class="line">  <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public, immutable&quot;</span>;</span><br><span class="line">  <span class="attribute">add_header</span> Vary <span class="string">&quot;Accept-Encoding&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="构建流程优化"><a href="#构建流程优化" class="headerlink" title="构建流程优化"></a>构建流程优化</h2><h3 id="1-增量构建"><a href="#1-增量构建" class="headerlink" title="1. 增量构建"></a>1. 增量构建</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用增量构建插件</span></span><br><span class="line"><span class="keyword">const</span> hexoIncremental = <span class="built_in">require</span>(<span class="string">&#x27;hexo-incremental&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;before_generate&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">hexoIncremental</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-并行处理"><a href="#2-并行处理" class="headerlink" title="2. 并行处理"></a>2. 并行处理</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 并发构建优化</span></span><br><span class="line">hexo.<span class="property">config</span>.<span class="property">concurrency</span> = <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>).<span class="title function_">cpus</span>().<span class="property">length</span>;</span><br></pre></td></tr></table></figure>

<h2 id="部署优化"><a href="#部署优化" class="headerlink" title="部署优化"></a>部署优化</h2><h3 id="1-GitHub-Pages优化"><a href="#1-GitHub-Pages优化" class="headerlink" title="1. GitHub Pages优化"></a>1. GitHub Pages优化</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .github/workflows/deploy.yml</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">with</span> <span class="string">Optimization</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [ <span class="string">main</span> ]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&#x27;16&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">ci</span> <span class="string">--only=production</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">with</span> <span class="string">optimization</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm run build:optimized</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br></pre></td></tr></table></figure>

<h3 id="2-压缩和优化"><a href="#2-压缩和优化" class="headerlink" title="2. 压缩和优化"></a>2. 压缩和优化</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用压缩插件</span></span><br><span class="line">npm install hexo-all-minifier --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置压缩</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate --optimize</span><br></pre></td></tr></table></figure>

<h2 id="前端性能优化"><a href="#前端性能优化" class="headerlink" title="前端性能优化"></a>前端性能优化</h2><h3 id="1-资源预加载"><a href="#1-资源预加载" class="headerlink" title="1. 资源预加载"></a>1. 资源预加载</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 预加载关键资源 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/css/critical.css&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/js/main.js&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preconnect&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-懒加载实现"><a href="#2-懒加载实现" class="headerlink" title="2. 懒加载实现"></a>2. 懒加载实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图片懒加载</span></span><br><span class="line"><span class="keyword">const</span> lazyImages = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;img[data-src]&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> imageObserver = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">entries, observer</span>) =&gt;</span> &#123;</span><br><span class="line">  entries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (entry.<span class="property">isIntersecting</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> img = entry.<span class="property">target</span>;</span><br><span class="line">      img.<span class="property">src</span> = img.<span class="property">dataset</span>.<span class="property">src</span>;</span><br><span class="line">      img.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;lazy&#x27;</span>);</span><br><span class="line">      observer.<span class="title function_">unobserve</span>(img);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">lazyImages.<span class="title function_">forEach</span>(<span class="function"><span class="params">img</span> =&gt;</span> imageObserver.<span class="title function_">observe</span>(img));</span><br></pre></td></tr></table></figure>

<h2 id="网络优化"><a href="#网络优化" class="headerlink" title="网络优化"></a>网络优化</h2><h3 id="1-HTTP-2配置"><a href="#1-HTTP-2配置" class="headerlink" title="1. HTTP&#x2F;2配置"></a>1. HTTP&#x2F;2配置</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Nginx HTTP/2配置</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">  <span class="attribute">ssl_certificate</span> /path/to/cert.pem;</span><br><span class="line">  <span class="attribute">ssl_certificate_key</span> /path/to/key.pem;</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 启用压缩</span></span><br><span class="line">  <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">  <span class="attribute">gzip_types</span> text/plain text/css application/json application/javascript;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-资源压缩"><a href="#2-资源压缩" class="headerlink" title="2. 资源压缩"></a>2. 资源压缩</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用Brotli压缩</span></span><br><span class="line">npm install hexo-brotli --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置Brotli</span></span><br><span class="line">brotli:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  quality: 11</span><br><span class="line">  extensions:</span><br><span class="line">    - css</span><br><span class="line">    - js</span><br><span class="line">    - svg</span><br></pre></td></tr></table></figure>

<h2 id="监控和分析"><a href="#监控和分析" class="headerlink" title="监控和分析"></a>监控和分析</h2><h3 id="1-性能监控"><a href="#1-性能监控" class="headerlink" title="1. 性能监控"></a>1. 性能监控</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 性能监控脚本</span></span><br><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">PerformanceObserver</span>(<span class="function">(<span class="params">list</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> entry <span class="keyword">of</span> list.<span class="title function_">getEntries</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Performance:&#x27;</span>, entry.<span class="property">name</span>, entry.<span class="property">duration</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 发送到分析服务</span></span><br><span class="line">    <span class="keyword">if</span> (entry.<span class="property">duration</span> &gt; <span class="number">1000</span>) &#123;</span><br><span class="line">      analytics.<span class="title function_">track</span>(<span class="string">&#x27;slow_resource&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">name</span>: entry.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">duration</span>: entry.<span class="property">duration</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">observer.<span class="title function_">observe</span>(&#123; <span class="attr">entryTypes</span>: [<span class="string">&#x27;measure&#x27;</span>, <span class="string">&#x27;navigation&#x27;</span>] &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-错误监控"><a href="#2-错误监控" class="headerlink" title="2. 错误监控"></a>2. 错误监控</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误监控</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error:&#x27;</span>, event.<span class="property">error</span>);</span><br><span class="line">  analytics.<span class="title function_">track</span>(<span class="string">&#x27;javascript_error&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">message</span>: event.<span class="property">message</span>,</span><br><span class="line">    <span class="attr">filename</span>: event.<span class="property">filename</span>,</span><br><span class="line">    <span class="attr">lineno</span>: event.<span class="property">lineno</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="高级优化技巧"><a href="#高级优化技巧" class="headerlink" title="高级优化技巧"></a>高级优化技巧</h2><h3 id="1-服务端渲染优化"><a href="#1-服务端渲染优化" class="headerlink" title="1. 服务端渲染优化"></a>1. 服务端渲染优化</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用服务端渲染</span></span><br><span class="line"><span class="keyword">const</span> hexoPrerender = <span class="built_in">require</span>(<span class="string">&#x27;hexo-prerender-spa&#x27;</span>);</span><br><span class="line">hexo.<span class="property">config</span>.<span class="property">prerender</span> = &#123;</span><br><span class="line">  <span class="attr">enable</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">routes</span>: [<span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/archives&#x27;</span>, <span class="string">&#x27;/categories&#x27;</span>, <span class="string">&#x27;/tags&#x27;</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-边缘计算"><a href="#2-边缘计算" class="headerlink" title="2. 边缘计算"></a>2. 边缘计算</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用Cloudflare Workers</span></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(<span class="title function_">handleRequest</span>(event.<span class="property">request</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleRequest</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(request);</span><br><span class="line">  <span class="keyword">const</span> html = <span class="keyword">await</span> response.<span class="title function_">text</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 注入性能监控代码</span></span><br><span class="line">  <span class="keyword">const</span> modifiedHtml = html.<span class="title function_">replace</span>(</span><br><span class="line">    <span class="string">&#x27;&lt;/head&gt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&lt;script src=&quot;/js/performance.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&#x27;</span></span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(modifiedHtml, response);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="性能测试和验证"><a href="#性能测试和验证" class="headerlink" title="性能测试和验证"></a>性能测试和验证</h2><h3 id="1-自动化测试"><a href="#1-自动化测试" class="headerlink" title="1. 自动化测试"></a>1. 自动化测试</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 性能测试脚本</span></span><br><span class="line"><span class="keyword">const</span> lighthouse = <span class="built_in">require</span>(<span class="string">&#x27;lighthouse&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> chromeLauncher = <span class="built_in">require</span>(<span class="string">&#x27;chrome-launcher&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">runLighthouse</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> chrome = <span class="keyword">await</span> chromeLauncher.<span class="title function_">launch</span>(&#123;<span class="attr">chromeFlags</span>: [<span class="string">&#x27;--headless&#x27;</span>]&#125;);</span><br><span class="line">  <span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="attr">logLevel</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">    <span class="attr">onlyCategories</span>: [<span class="string">&#x27;performance&#x27;</span>, <span class="string">&#x27;accessibility&#x27;</span>, <span class="string">&#x27;best-practices&#x27;</span>, <span class="string">&#x27;seo&#x27;</span>],</span><br><span class="line">    <span class="attr">port</span>: chrome.<span class="property">port</span></span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> runnerResult = <span class="keyword">await</span> <span class="title function_">lighthouse</span>(url, options);</span><br><span class="line">  <span class="keyword">await</span> chrome.<span class="title function_">kill</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> runnerResult.<span class="property">report</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-持续监控"><a href="#2-持续监控" class="headerlink" title="2. 持续监控"></a>2. 持续监控</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 监控配置</span></span><br><span class="line"><span class="attr">monitoring:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">services:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">google_analytics</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sentry</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">datadog</span></span><br><span class="line">  <span class="attr">alerts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">performance_degradation</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">error_rate_increase</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">uptime_monitoring</span></span><br></pre></td></tr></table></figure>

<h2 id="最佳实践总结"><a href="#最佳实践总结" class="headerlink" title="最佳实践总结"></a>最佳实践总结</h2><h3 id="1-优化清单"><a href="#1-优化清单" class="headerlink" title="1. 优化清单"></a>1. 优化清单</h3><ul>
<li><input disabled="" type="checkbox"> 启用所有压缩插件</li>
<li><input disabled="" type="checkbox"> 配置CDN加速</li>
<li><input disabled="" type="checkbox"> 实现图片懒加载</li>
<li><input disabled="" type="checkbox"> 优化关键渲染路径</li>
<li><input disabled="" type="checkbox"> 设置合理的缓存策略</li>
<li><input disabled="" type="checkbox"> 监控性能指标</li>
</ul>
<h3 id="2-性能预算"><a href="#2-性能预算" class="headerlink" title="2. 性能预算"></a>2. 性能预算</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 性能预算配置</span></span><br><span class="line"><span class="keyword">const</span> performanceBudget = &#123;</span><br><span class="line">  <span class="attr">firstContentfulPaint</span>: <span class="number">1500</span>,</span><br><span class="line">  <span class="attr">largestContentfulPaint</span>: <span class="number">2500</span>,</span><br><span class="line">  <span class="attr">firstInputDelay</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">cumulativeLayoutShift</span>: <span class="number">0.1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>性能优化是一个持续的过程，需要不断监控、测试和改进。通过本文介绍的全链路优化方案，你的Hexo博客将获得显著的性能提升。记住，优秀的用户体验始于卓越的性能表现！</p>
<p>持续优化，持续改进，让你的技术博客在性能上领先一步！</p>

  </div>
  
  <footer class="post-footer">
    <div class="post-nav">
      
        <a href="/2025/07/18/04-hexo-seo-complete-guide/" rel="prev" title="Hexo SEO完全指南：技术博客搜索引擎优化实战">
          <i class="fas fa-angle-left"></i>
          Hexo SEO完全指南：技术博客搜索引擎优化实战
        </a>
      
      
      
        <a href="/2025/07/18/02-hexo-theme-customization-deep-dive/" rel="next" title="Hexo主题深度定制：Moonshot主题个性化改造完全指南">
          Hexo主题深度定制：Moonshot主题个性化改造完全指南
          <i class="fas fa-angle-right"></i>
        </a>
      
    </div>
  </footer>
</article>

        </section>
        <aside id="sidebar">
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line"></span>
      <span class="sidebar-toggle-line"></span>
      <span class="sidebar-toggle-line"></span>
    </div>
  </div>
  
  <div id="sidebar-inner">
    <section class="site-overview-wrap sidebar-panel">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Muscle">
        <p class="site-author-name" itemprop="name">Muscle</p>
        <p class="site-description motion-element" itemprop="description">一个关于技术和生活的博客</p>
      </div>
      
      <nav class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <a href="/archives">
            <span class="site-state-item-count">14</span>
            <span class="site-state-item-name">文章</span>
          </a>
        </div>
        
        <div class="site-state-item site-state-categories">
          <a href="/categories">
            <span class="site-state-item-count">4</span>
            <span class="site-state-item-name">分类</span>
          </a>
        </div>
        
        <div class="site-state-item site-state-tags">
          <a href="/tags">
            <span class="site-state-item-count">53</span>
            <span class="site-state-item-name">标签</span>
          </a>
        </div>
      </nav>
      
      
        <div class="links-of-author motion-element">
          
            <span class="links-of-author-item">
              <a href="https://github.com/zhangmengweimuscle/" target="_blank" title="GitHub">
                
                  <i class="fab fa-github"></i>GitHub
                
              </a>
            </span>
          
            <span class="links-of-author-item">
              <a href="https://x.com/zhangmuscle/" target="_blank" title="Twitter">
                
                  <i class="fab fa-twitter"></i>Twitter
                
              </a>
            </span>
          
            <span class="links-of-author-item">
              <a href="mailto:zhangmengweimusclea@email.com" target="_blank" title="Email">
                
                  <i class="fas fa-envelope"></i>Email
                
              </a>
            </span>
          
        </div>
      
    </section>
    
    
<section class="post-toc-wrap sidebar-panel">
  <div class="post-toc motion-element">
    <p class="post-toc-title">文章目录</p>
    <div class="post-toc-content" id="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hexo%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98%EF%BC%9A%E4%BB%8E%E6%9E%84%E5%BB%BA%E5%88%B0%E9%83%A8%E7%BD%B2%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87%E6%96%B9%E6%A1%88"><span class="toc-text">Hexo性能优化实战：从构建到部署的完整性能提升方案</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80"><span class="toc-text">性能分析基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E5%AE%9A%E4%B9%89"><span class="toc-text">1. 性能指标定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-text">2. 性能测试工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E9%98%B6%E6%AE%B5%E4%BC%98%E5%8C%96"><span class="toc-text">构建阶段优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Hexo%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96"><span class="toc-text">1. Hexo配置优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%92%E4%BB%B6%E4%BC%98%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-text">2. 插件优化配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-text">资源优化策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96"><span class="toc-text">1. 图片优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-CSS%E4%BC%98%E5%8C%96"><span class="toc-text">2. CSS优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-JavaScript%E4%BC%98%E5%8C%96"><span class="toc-text">3. JavaScript优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CDN%E5%92%8C%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5"><span class="toc-text">CDN和缓存策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-CDN%E9%85%8D%E7%BD%AE"><span class="toc-text">1. CDN配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%93%E5%AD%98%E6%8E%A7%E5%88%B6"><span class="toc-text">2. 缓存控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B%E4%BC%98%E5%8C%96"><span class="toc-text">构建流程优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A2%9E%E9%87%8F%E6%9E%84%E5%BB%BA"><span class="toc-text">1. 增量构建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B9%B6%E8%A1%8C%E5%A4%84%E7%90%86"><span class="toc-text">2. 并行处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E4%BC%98%E5%8C%96"><span class="toc-text">部署优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-GitHub-Pages%E4%BC%98%E5%8C%96"><span class="toc-text">1. GitHub Pages优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8E%8B%E7%BC%A9%E5%92%8C%E4%BC%98%E5%8C%96"><span class="toc-text">2. 压缩和优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">前端性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%B5%84%E6%BA%90%E9%A2%84%E5%8A%A0%E8%BD%BD"><span class="toc-text">1. 资源预加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%87%92%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0"><span class="toc-text">2. 懒加载实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96"><span class="toc-text">网络优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-HTTP-2%E9%85%8D%E7%BD%AE"><span class="toc-text">1. HTTP&#x2F;2配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B5%84%E6%BA%90%E5%8E%8B%E7%BC%A9"><span class="toc-text">2. 资源压缩</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E6%8E%A7%E5%92%8C%E5%88%86%E6%9E%90"><span class="toc-text">监控和分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="toc-text">1. 性能监控</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7"><span class="toc-text">2. 错误监控</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7"><span class="toc-text">高级优化技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96"><span class="toc-text">1. 服务端渲染优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97"><span class="toc-text">2. 边缘计算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E9%AA%8C%E8%AF%81"><span class="toc-text">性能测试和验证</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95"><span class="toc-text">1. 自动化测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8C%81%E7%BB%AD%E7%9B%91%E6%8E%A7"><span class="toc-text">2. 持续监控</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93"><span class="toc-text">最佳实践总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BC%98%E5%8C%96%E6%B8%85%E5%8D%95"><span class="toc-text">1. 优化清单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%80%A7%E8%83%BD%E9%A2%84%E7%AE%97"><span class="toc-text">2. 性能预算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-text">结语</span></a></li></ol></li></ol>
    </div>
  </div>
</section>

<style>
.post-toc-wrap {
  margin-top: 20px;
}

.post-toc-title {
  font-size: 16px;
  font-weight: 600;
  color: #24292e;
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 1px solid #e1e4e8;
}

.post-toc-content {
  font-size: 14px;
  line-height: 1.6;
}

.post-toc-content ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.post-toc-content ul ul {
  padding-left: 20px;
  margin-top: 5px;
}

.post-toc-content ul ul ul {
  padding-left: 15px;
}

.post-toc-content li {
  margin-bottom: 5px;
}

.post-toc-content a {
  color: #586069;
  text-decoration: none;
  display: block;
  padding: 4px 8px;
  border-radius: 4px;
  transition: all 0.2s;
}

.post-toc-content a:hover {
  color: #0366d6;
  background-color: #f6f8fa;
  text-decoration: none;
}

.post-toc-content .toc-level-1 > a {
  font-weight: 600;
  color: #24292e;
}

.post-toc-content .toc-level-2 > a {
  font-size: 13px;
}

.post-toc-content .toc-level-3 > a {
  font-size: 12px;
  color: #8b949e;
}

/* 修复重复序号问题 */
.post-toc-content ol,
.post-toc-content ul {
  counter-reset: none;
  list-style-type: none;
}

.post-toc-content li::before {
  content: none;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .post-toc-wrap {
    margin-top: 15px;
  }
  
  .post-toc-title {
    font-size: 14px;
  }
  
  .post-toc-content {
    font-size: 13px;
  }
}
</style>

<script>
(function() {
  'use strict';
  
  // 修复TOC中的重复编号问题
  function fixTocNumbering() {
    var tocContent = document.getElementById('post-toc-content');
    if (!tocContent) return;
    
    // 移除所有可能的编号
    var links = tocContent.querySelectorAll('a');
    links.forEach(function(link) {
      // 移除链接文本中的编号
      var text = link.textContent;
      text = text.replace(/^\d+\.\s*/, ''); // 移除 "1. " 这样的前缀
      text = text.replace(/^\d+\s*/, '');   // 移除 "1 " 这样的前缀
      link.textContent = text;
    });
    
    // 确保没有ol元素的编号
    var lists = tocContent.querySelectorAll('ol');
    lists.forEach(function(list) {
      list.style.listStyle = 'none';
      list.style.counterReset = 'none';
    });
  }
  
  // 高亮当前阅读位置
  function highlightCurrentSection() {
    var tocLinks = document.querySelectorAll('.post-toc-content a');
    var headings = document.querySelectorAll('.post-content h1, .post-content h2, .post-content h3');
    
    if (!tocLinks.length || !headings.length) return;
    
    function updateActiveLink() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      var activeFound = false;
      
      for (var i = headings.length - 1; i >= 0; i--) {
        var heading = headings[i];
        var rect = heading.getBoundingClientRect();
        var top = rect.top + scrollTop;
        
        if (scrollTop >= top - 100) {
          tocLinks.forEach(function(link) {
            link.classList.remove('active');
          });
          
          var id = heading.getAttribute('id');
          var activeLink = document.querySelector('.post-toc-content a[href="#' + id + '"]');
          if (activeLink) {
            activeLink.classList.add('active');
          }
          
          activeFound = true;
          break;
        }
      }
      
      if (!activeFound) {
        tocLinks.forEach(function(link) {
          link.classList.remove('active');
        });
      }
    }
    
    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink(); // 初始调用
  }
  
  // 初始化
  document.addEventListener('DOMContentLoaded', function() {
    fixTocNumbering();
    highlightCurrentSection();
  });
})();
</script>


  </div>
</aside>

      </div>
    </div>
    <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Muscle<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
      | Theme - <a href="https://github.com/yourusername/hexo-theme-github-style" target="_blank">GitHub Style</a>
    </div>
  </div>
</footer>

  </div>
  
<script src="/js/main.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var sidebarToggle = document.querySelector('.sidebar-toggle');
    var sidebar = document.querySelector('#sidebar');
    
    if (sidebarToggle && sidebar) {
      sidebarToggle.addEventListener('click', function() {
        sidebar.classList.toggle('sidebar-active');
      });
    }
    
    var searchBtn = document.querySelector('#nav-search-btn');
    var searchForm = document.querySelector('#search-form-wrap');
    
    if (searchBtn && searchForm) {
      searchBtn.addEventListener('click', function() {
        searchForm.classList.toggle('on');
        if (searchForm.classList.contains('on')) {
          searchForm.querySelector('.search-form-input').focus();
        }
      });
    }
  });
</script>

</body>
</html>
